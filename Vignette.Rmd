---
title: "Using the SpatialBall package"
author: "Derek Corcoran"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Using the SpatialBall package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

The `SpatialBall` package was developed to visualize and analyze baketball data from the NBA, we will start by presenting several of our visualization functions, and later we will present our analysis tools

## Visualization Tools

### Season visualization tools:

We have two functions to plot all the shots of a Season, `ShotSeasonGraph` and `PointShotSeasonGraph`, we will use both of those functions to plot All of the season 2013 and 2017, in order to compare and try to look at the evolution of the league. 

#### ShotSeasonGraph

This function make the classic shot charts developed by Kirk Goldsberry, the default shows an hexagon in each point of the court, the bigger the hexagons, the more frequent the shots are, and the smaller the hexagons the least frequent the shots are. Also the color scale, in this case, shows the points per shot.

```{r}
library(SpatialBall)
data("season2017")
ShotSeasonGraph(Seasondata = season2017)
```

for `ShotSeasonGraph` you have two options for the Type of graph, the default (Shown above) is Points per Shot, you can change that to *PCT* to see the shooting percentage:

```{r}
data("season2017")
ShotSeasonGraph(Seasondata = season2017, type = "PCT")
```

another option fot this function is the quantile threshold of which shots are ploted, the default is 0.4, that means that the 40% least common shots are not ploted, if we increase that number, less hexagons will be shown.

```{r}
data("season2017")
ShotSeasonGraph(Seasondata = season2017, type = "PCT", quant = 0.6)
```

### Team visualization tools:

We have 2 functions for the visualization of team shot charts `DefShotSeasonGraphTeam`and `OffShotSeasonGraphTeam`, both of them are similar to the `ShotSeasonGraph` function, but focus on one team, and let's you get the offensive or deffensive shot chart for each team in either Point per shot (type = "PPS") or percentage (type = "PCT").

The following are examples of both functions:

### DefShotSeasonGraphTeam:

These are examples of Charlotte's deffensive Shot Charts as PPS and PCT

```{r}
DefShotSeasonGraphTeam(season2017, team = "Cha")
DefShotSeasonGraphTeam(season2017, team = "Cha", type = "PCT")
```

### DefShotSeasonGraphTeam:


## Styles

The `html_vignette` template includes a basic CSS theme. To override this theme you can specify your own CSS in the document metadata as follows:

    output: 
      rmarkdown::html_vignette:
        css: mystyles.css

## Figures

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold'}
plot(1:10)
plot(10:1)
```

You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## More Examples

You can write math expressions, e.g. $Y = X\beta + \epsilon$, footnotes^[A footnote here.], and tables, e.g. using `knitr::kable()`.

```{r, echo=FALSE, results='asis'}
data("season2017")
knitr::kable(head(season2017, 10))
```

Also a quote using `>`:

> "He who gives up [code] safety for [code] speed deserves neither."
([via](https://twitter.com/hadleywickham/status/504368538874703872))
